$(document).on('turbolinks:load', function(){

  //fullPage.js
  //$('#fullpage').fullpage({
  //  anchors: ['page1', 'page2', 'page3', 'page4', 'page5', 'page6', 'page7', 'page8'],
  //  scrollBar:true,
  //  scrollingSpeed: 600,
  //});

  //Homepage Parallax
  //const bg = document.querySelector('.background-image');
  //const windowWidth = window.innerWidth / 5;
  //const windowHeight = window.innerHeight / 5 ;

  //bg.addEventListener('mousemove', (e) => {
  //  const mouseX = e.clientX / windowWidth;
  //  const mouseY = e.clientY / windowHeight;

  //  bg.style.transform = `translate3d(-${mouseX}%, -${mouseY}%, 0)`;
  //});

  //Alerts and notice fade out
  setTimeout(function(){
  $('.alert').fadeOut();
}, 3000);
  setTimeout(function(){
  $('.notice').fadeOut();
}, 3000);

  // Timed text swap
  var cnt=0, texts=[];
    $(".title2-fill").each(function() {
      texts[cnt++]=$(this).text();
    });
    function slide() {
      if (cnt>=texts.length) cnt=0;
      $('#title2-filled').html(texts[cnt++]);
      $('#title2-filled')
        .fadeIn('slow').animate({opacity: 1.0}, 1900).fadeOut('slow',
         function() {
           return slide()
         }
      );
    }
    slide()

  //Menu
  $(function() {
    $('#openMenu').click(function() {
      $('aside').toggleClass('open');
      $(this).toggleClass('invisible');
      $('#closeMenu').toggleClass('invisible');

      //Block scrolling
       $('html, body').css({
       overflow: 'hidden',
       height: '100%'
       });
     });

    $('#closeMenu').click(function() {
      $('aside').toggleClass('open');
      $(this).toggleClass('invisible');
      $('#openMenu').toggleClass('invisible');
    });

    $('nav').click(function() {
      //REstore scrolling
    $('html, body').css({
    overflow: 'scroll',
    height: '100%'
      });
    });
  });



});
